<!-- <p-table [value]="clients" stripedRows [tableStyle]="{'min-width': '50rem'}">
    <ng-template #header>
        <tr>
            <th>ID</th>
            <th>Name</th>
            <th>DNI</th>
            <th>Detalles</th>
        </tr>
    </ng-template>
    <ng-template #body let-client>
        <tr>
            <td>{{client.id}}</td>
            <td>{{client.nombre}}</td>
            <td>{{client.dni}}</td>
            <td>
                <p-button 
                    icon="pi pi-bars" 
                    severity="info" 
                    [rounded]="false"
                    (onClick)="showDetails(client)">
                </p-button>
            </td>
        </tr>
    </ng-template>
</p-table>

<p-dialog [(visible)]="displayDialog" 
          [modal]="true" 
          [style]="{width: '400px'}" 
          header="Detalle del Cliente">
  <app-client-detail *ngIf="selectedClient" [client]="selectedClient"></app-client-detail>
</p-dialog> -->

<p-table 
  [value]="clients" 
  dataKey="id"
  [tableStyle]="{'min-width': '50rem'}"
>
  <!-- Cabecera -->
  <ng-template pTemplate="header">
    <tr>
      <th>ID</th>
      <th>Name</th>
      <th>DNI</th>
      <th>Acciones</th>
    </tr>
  </ng-template>

  <!-- Filas -->
  <ng-template pTemplate="body" let-client>
    <tr>
      
      <td>{{client.id}}</td>
      <td>{{client.nombre}}</td>
      <td>{{client.dni}}</td>
      <td>
        <button 
          pButton 
          pRowToggler 
          [value]="client" 
          icon="pi pi-chevron-down"
          class="p-button-text"
        ></button>
      </td>
    </tr>
  </ng-template>

  <!-- Fila expandida -->
  <ng-template pTemplate="rowexpansion" let-client>
    <tr>
      <td colspan="5">
        <div class="p-3">
          <h4>Detalles de {{ client.nombre }}</h4>

          <!-- Lista de teléfonos -->
          <ul>
            <li *ngFor="let phone of client.phones">
              {{ phone.numero }}
            </li>
          </ul>

          <!-- Botones de acción -->
          <div class="flex gap-2 mt-2">
            <p-button 
              label="Editar Cliente" 
              icon="pi pi-user-edit" 
              (onClick)="editClient(client)">
            </p-button>

            <p-button 
              label="Agregar Teléfono" 
              icon="pi pi-phone" 
              severity="success"
              (onClick)="addPhone(client)">
            </p-button>
          </div>
        </div>
      </td>
    </tr>
  </ng-template>
</p-table>